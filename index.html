<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Saltpepper — Welcome</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/gh/davidshimjs/qrcodejs@gh-pages/qrcode.min.js"></script>
  <style>
    html, body {
      overflow-x: hidden;
      height: 100%;
      margin: 0;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }

    .section {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      position: relative;
      padding: 2rem;
      color: white;
      text-align: center;
    }
    
    .bg-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-size: cover;
      background-position: center;
      z-index: -2;
    }
    
    .bg-overlay::after {
      content: "";
      position: absolute;
      inset: 0;
      z-index: -1;
    }
    
    .section-1 .bg-overlay {
      background-image: url("assets/background-desktop.jpg");
    }
    
    .section-1 .bg-overlay::after {
      background: rgba(0,0,0,0.45);
    }
    
    .section-2 .bg-overlay {
      background-image: url("assets/background-new.jpg");
    }
    
    .section-2 .bg-overlay::after {
      background: rgba(0,0,0,0.6);
    }
    
    .content {
      max-width: 1000px;
      z-index: 1;
      padding: 2rem;
      backdrop-filter: blur(2px);
      border-radius: 12px;
      background: rgba(0,0,0,0.2);
    }
    
    .title {
      margin: 0 0 0.5rem 0;
      font-size: clamp(2.25rem, 6vw, 4rem);
      letter-spacing: -0.02em;
      font-weight: 700;
      text-shadow: 0 6px 18px rgba(0,0,0,0.5);
    }
    
    .description {
      font-size: 1.2rem;
      line-height: 1.6;
      margin-bottom: 2rem;
      max-width: 800px;
    }
    
    .social-links {
      margin-top: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
    }
    
    .social-link {
      color: white;
      text-decoration: none;
      font-size: 1.2rem;
      transition: opacity 0.3s;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .social-link:hover {
      opacity: 0.8;
    }
    
    .social-icon {
      font-size: 1.5rem;
    }
    
    .email-address {
      color: white;
      font-size: 1.1rem;
      display: flex;
      align-items: center;
      gap: 10px;
      justify-content: center;
    }

    .youtube-section {
      padding: 4rem 2rem;
      background: #f9f9f9;
      text-align: center;
    }
    
    .youtube-title {
      font-size: 2.5rem;
      margin-bottom: 2rem;
      color: #333;
    }
    
    .video-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 2rem;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .video-item {
      flex: 1;
      min-width: 300px;
      max-width: 400px;
    }
    
    .video-wrapper {
      position: relative;
      padding-bottom: 56.25%;
      height: 0;
      overflow: hidden;
      border-radius: 8px;
      box-shadow: 0 6px 16px rgba(0,0,0,0.15);
    }
    
    .video-wrapper iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
    }
    
    .video-description {
      margin-top: 1rem;
      color: #666;
      font-style: italic;
    }

    .qr-section {
      text-align: center;
      padding: 1.5rem 1rem;
      margin-top: 2rem;
    }
    
    .qr-section p {
      margin-bottom: 1rem;
      font-weight: 600;
    }
    
    #qrcode {
      display: inline-block;
      padding: 12px;
      background: white;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }
    
    .foot {
      padding: 1rem;
      text-align: center;
      background: #222;
      color: white;
    }

    .site-header {
      display: none;
    }

    .admin-panel {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(255,255,255,0.9);
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      z-index: 1000;
      width: 300px;
    }
    
    .admin-toggle {
      background: #4a4a4a;
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 4px;
      cursor: pointer;
      margin-bottom: 10px;
    }
    
    .admin-content {
      display: none;
    }
    
    .admin-content.show {
      display: block;
    }
    
    textarea {
      width: 100%;
      height: 150px;
      margin-bottom: 10px;
      padding: 8px;
      border-radius: 4px;
      border: 1px solid #ccc;
    }
    
    .admin-btn {
      background: #4CAF50;
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 4px;
      cursor: pointer;
    }

    @media (max-width: 800px) {
      .section-1 .bg-overlay {
        background-image: url("assets/background-mobile.jpg");
      }
      
      .video-container {
        flex-direction: column;
        align-items: center;
      }
      
      .video-item {
        width: 100%;
      }
      
      .content {
        padding: 1.5rem;
      }
      
      .admin-panel {
        width: 250px;
        right: 10px;
      }
    }
  </style>
</head>
<body>
  <!-- Admin panel for easy video management -->
  <div class="admin-panel">
    <button class="admin-toggle" onclick="toggleAdmin()">Manage Videos</button>
    <div class="admin-content" id="adminContent">
      <p>Edit videos below (one per line):<br>Format: URL, Title</p>
      <textarea id="videoData">https://www.youtube.com/watch?v=O3RB060qMIA, Beautiful Melody Performance
https://www.youtube.com/watch?v=KnwqhJx9qUs, Jazz & Classical Fusion
https://www.youtube.com/watch?v=F_lpJzwtIbY, Traditional Folk Arrangement</textarea>
      <button class="admin-btn" onclick="updateVideos()">Update Videos</button>
    </div>
  </div>

  <!-- First section with original background -->
  <section class="section section-1">
    <div class="bg-overlay"></div>
    <div class="content">
      <h1 class="title">Salt & Pepper</h1>
      <p class="description">Salt & Pepper er en fiolin og kontrabass-duo bestående av Katinka Nilssen og Albert Noven. Duoen kommer fra en klassisk bakgrunn, men blander også andre sjangre som folkemusikk og jazz. De er glade i å skrive sine egne arrangementer og bidra til å utvide det eksisterende fiolin og bass-repertoaret.</p>
      <div class="qr-section">
        <p>Scan to share</p>
        <div id="qrcode"></div>
      </div>
    </div>
  </section>

  <!-- YouTube videos section -->
  <section class="youtube-section">
    <h2 class="youtube-title">Our Performances</h2>
    <div class="video-container" id="videoContainer">
      <!-- Videos will be dynamically inserted here -->
    </div>
  </section>

  <!-- Second section with new background -->
  <section class="section section-2">
    <div class="bg-overlay"></div>
    <div class="content">
      <h2 class="title">Contact Us</h2>
      <div class="social-links">
        <a href="https://www.instagram.com/saltpepper.duo/" class="social-link" target="_blank" rel="noopener noreferrer">
          <i class="fab fa-instagram social-icon"></i> Follow us on Instagram
        </a>
        <a href="mailto:contact.saltpepperduo@gmail.com" class="social-link">
          <i class="fas fa-envelope social-icon"></i> Email us
        </a>
      </div>
    </div>
  </section>

  <footer class="foot">
    <p>© <span id="year"></span> Salt & Pepper. All rights reserved.</p>
  </footer>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      // Get the current site's URL dynamically
      const siteUrl = window.location.href;

      // Create the QR code
      new QRCode(document.getElementById("qrcode"), {
        text: siteUrl,
        width: 140,
        height: 140,
        colorDark: "#000000",
        colorLight: "#ffffff",
        correctLevel: QRCode.CorrectLevel.H
      });

      // Footer year logic
      document.getElementById("year").textContent = new Date().getFullYear();
      
      // Load videos from default data
      loadVideos();
    });
    
    // Function to extract YouTube ID from URL
    function extractYouTubeId(url) {
      const regExp = /^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/;
      const match = url.match(regExp);
      return (match && match[7].length === 11) ? match[7] : null;
    }
    
    // Function to parse video data from text
    function parseVideoData(text) {
      const lines = text.split('\n');
      const videos = [];
      
      for (const line of lines) {
        const trimmedLine = line.trim();
        if (trimmedLine) {
          const parts = trimmedLine.split(',');
          if (parts.length >= 2) {
            const url = parts[0].trim();
            const title = parts.slice(1).join(',').trim(); // In case title contains commas
            const id = extractYouTubeId(url);
            
            if (id) {
              videos.push({ id, title, url });
            }
          }
        }
      }
      
      return videos;
    }
    
    // Function to render videos
    function renderVideos(videos) {
      const videoContainer = document.getElementById('videoContainer');
      videoContainer.innerHTML = ''; // Clear existing content
      
      if (videos.length === 0) {
        videoContainer.innerHTML = '<p>No videos available</p>';
        return;
      }
      
      videos.forEach(video => {
        const videoItem = document.createElement('div');
        videoItem.className = 'video-item';
        
        videoItem.innerHTML = `
          <div class="video-wrapper">
            <iframe src="https://www.youtube.com/embed/${video.id}" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                    allowfullscreen></iframe>
          </div>
          <p class="video-description">${video.title}</p>
        `;
        
        videoContainer.appendChild(videoItem);
      });
    }
    
    // Function to load videos from text area
    function loadVideos() {
      const videoDataText = document.getElementById('videoData').value;
      const videos = parseVideoData(videoDataText);
      renderVideos(videos);
    }
    
    // Function to update videos
    function updateVideos() {
      loadVideos();
      alert('Videos updated successfully!');
    }
    
    // Function to toggle admin panel
    function toggleAdmin() {
      const adminContent = document.getElementById('adminContent');
      adminContent.classList.toggle('show');
    }
    
    // Make functions available globally for the buttons
    window.loadVideos = loadVideos;
    window.updateVideos = updateVideos;
    window.toggleAdmin = toggleAdmin;
  </script>
</body>
</html>
